<div class="main-container">
  <div class="card upload-box">
    <h3>Subir Evidencia</h3>
    <p class="text-muted">Selecciona una o varias imágenes para registrar el avance.</p>
    
    <input 
      type="file" 
      (change)="handleFileInput($event)" 
      accept="image/*" 
      multiple
      class="file-input"
    >
    
    <p *ngIf="isLoading()" class="loading-message">Cargando imágenes...</p>
  </div>
  
  <div class="gallery-container">
    <h2>Evidencias Registradas ({{ evidencias().length }})</h2>
    
    <div *ngIf="evidencias().length === 0" class="no-data">
      <p>Aún no hay evidencias registradas para este proyecto.</p>
    </div>
    
    <div class="gallery">
      <div *ngFor="let evidencia of evidencias(); let i = index" class="img-box">
        
        <div class="evidence-number">
          #{{ i + 1 }}
          <button class="delete-btn" (click)="eliminarEvidencia(evidencia.id)">
            &times;
          </button>
        </div>
        
        <img 
          [src]="evidencia.simulatedUrl" 
          [alt]="'Evidencia ' + (i + 1) + ': ' + evidencia.fileName"
          onerror="this.onerror=null;this.src='https://placehold.co/400x300/e0e0e0/333?text=Sin+Imagen';"
        >
        
        <div class="file-name">{{ evidencia.fileName }}</div>
      </div>
    </div>
  </div>
</div>